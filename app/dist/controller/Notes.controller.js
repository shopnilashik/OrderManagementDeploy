sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageBox"],function(e,t,o){"use strict";return e.extend("derga.ordermanagement.controller.Notes",{onInit:function(){var e={items:[]};this.noteType=this.byId("selectnoteType");this.note=this.byId("input_Note");var o=new t(e);this.getView().setModel(o,"oDataNote");this.noteTypeFlag=false;let n=new t({savemode:false});let s=new t({row:0});this.getView().setModel(n,"oSaveBtn");this.getView().setModel(s,"oTableRow");this.oSaveBtnModel=this.getView().getModel("oSaveBtn");this.oTableRownModel=this.getView().getModel("oTableRow");this._rowCounter()},onNoteSaveBtnPress:function(){var e=this.getView().getModel("oDataNote").getData();var t={noteType:this.noteType.getValue(),note:this.note.getValue()};if(t){e.items.push(t);this.getView().getModel("oDataNote").setData(e);this.noteType.setValue("");this.note.setValue("");this.counter++;this._rowCounter();this.oSaveBtnModel.setProperty("/savemode",false);this.noteTypeFlag=false}},onNoteDeleteBtnPress:function(e){var t=e.getSource().getParent().getIndex();var o=this.getView().getModel("oDataNote").getData();o.items.splice(t,1);this.getView().getModel("oDataNote").setData(o);this._rowCounter()},onNoteTypeSelect:function(){this.noteTypeFlag=true;this._noteInputValidation()},onNoteInput:function(){this._noteInputValidation()},_noteInputValidation:function(){if(this.noteTypeFlag&&this.note.getValue().length>0){this.oSaveBtnModel.setProperty("/savemode",true)}else if(this.noteTypeFlag&&this.note.getValue().length<1){this.oSaveBtnModel.setProperty("/savemode",false)}},_rowCounter:function(){var e=this.getView().getModel("oDataNote").getData();let t=e.items.length;if(t<21)this.oTableRownModel.setProperty("/row",t);if(t>21)this.oTableRownModel.setProperty("/row",21)}})});